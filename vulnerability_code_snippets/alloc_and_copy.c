/* allocate a buffer big enough for a + b + strlen(str) bytes,
 * then copy str to the buffer and return it.
 */
char *alloc_and_copy(int a, int b, char *str) {
  int buf_size, str_size;
  char *buf;

  str_size = strlen(str);
  buf_size = a + b + str_size;
  buf = malloc(buf_size);

  strncpy(buf, str, str_size);
  return buf;
}